@using DistributorWebsite.MVC.WebUI.Models
@{
    string angularObjectName = this.ViewData.ContainsKey("AngularEntity") ? this.ViewData["AngularEntity"].ToString() : "entity";
}
<div class="row detailsection even">
    <div class="col-xs-6 col-sm-3">
        <div class="row padbottom">
            <div class="col-sm-12 itemheader">@HCResources.OrderNo:</div>
            <div class="col-sm-12 itemdetail">{{ @(angularObjectName).OrderNo }}<span ng-show="@(angularObjectName).OrderType !== null && @(angularObjectName).OrderType === 'R'"> <span class="label label-warning">RMA</span></span></div>
        </div>
    </div>
    <div class="col-xs-6 col-sm-3">
        <div class="row padbottom">
            <div class="col-sm-12 itemheader">@HCResources.Client:</div>
            <div class="col-sm-12 itemdetail">{{ @(angularObjectName).Client }}</div>
        </div>
    </div>
    <div class="col-xs-6 col-sm-3">
        <div class="row padbottom">
            <div class="col-sm-12 itemheader">@HCResources.CustomerNo:</div>
            <div class="col-sm-12 itemdetail">{{ @(angularObjectName).CustomerNo || @(angularObjectName).DistributorNo }}</div>
        </div>
    </div>
    <div class="col-xs-6 col-sm-3 padbottom">
        <div class="row">
            <div class="col-sm-12 itemheader">@HCResources.OrderDate:</div>
            <div class="col-sm-12 itemdetail">{{ @(angularObjectName).OrderDate | hcdate }}</div>
        </div>
    </div>
</div>
<div class="row detailsection even">
    <div class="col-sm-12">
        <ul id="orderaddresses" class="nav nav-tabs bordered hidden-print" role="tablist">
            <li role="presentation" ng-hide="entity.OrderType == 'D' || entity.OrderType === 'R'"><a id="btnOrderBillingAddress" href="#ordbillingaddr" aria-controls="ordbillingaddr" role="tab" data-toggle="tab"><i>@HCResources.BillingAddress</i></a></li>
            <li role="presentation"><a id="btnOrderShippingAddress" href="#ordshippingaddr" aria-controls="ordshippingaddr" role="tab" data-toggle="tab"><i>@HCResources.ShippingAddress</i></a></li>
        </ul>
        <div class="tab-content">
            <div role="tabpanel" class="tab-pane bordered always-print" id="ordbillingaddr" style="padding-top: 10px;" ng-hide="entity.OrderType == 'D'">
                <div class="row visible-print">
                    <div class="col-sm-12"><h2 style="margin-top: 0;"><i class="fa fa-user"></i> &nbsp;@HCResources.BillingAddress</h2></div>
                </div>
                <div>
                    <div class="row">
                        <div class="col-sm-12 padbottom">
                            <div class="row">
                                <div class="col-md-12 itemheader">@HCResources.Address:</div>
                                <div class="col-md-12">
                                    <strong>{{ @(angularObjectName).BillingName }}</strong><br />
                                    <address style="margin-bottom: 0;">
                                        <span ng-bind-html="@(angularObjectName).BillingAddress | hcaddress"></span>
                                    </address>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-4 col-md-3" ng-hide="@(angularObjectName).BillingHomePhone === null || @(angularObjectName).BillingHomePhone === ''">
                            <div class="row">
                                <div class="col-md-12 itemheader">@HCResources.HomePhone:</div>
                                <div class="col-md-12 itemdetail" ng-bind-html="@(angularObjectName).BillingHomePhone | hcphone:'':'':true"></div>
                            </div>
                        </div>
                        <div class="col-sm-4 col-md-3" ng-hide="@(angularObjectName).BillingWorkPhone === null || @(angularObjectName).BillingWorkPhone === ''">
                            <div class="row">
                                <div class="col-md-12 itemheader">@HCResources.WorkPhone:</div>
                                <div class="col-md-12 itemdetail" ng-bind-html="@(angularObjectName).BillingWorkPhone | hcphone:'':'':true"></div>
                            </div>
                        </div>
                    </div>
                    <div class="row" ng-hide="@(angularObjectName).EmailAddress === null || @(angularObjectName).EmailAddress === ''">
                        <div class="col-sm-12 padbottom">
                            <div class="row">
                                <div class="col-md-12 itemheader">@HCResources.EmailAddress:</div>
                                <div class="col-md-12"><a href="mailto:{{ @(angularObjectName).EmailAddress }}"><span class="fa fa-envelope"></span> {{ @(angularObjectName).EmailAddress }}</a></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div role="tabpanel" class="tab-pane bordered always-print" id="ordshippingaddr" style="padding-top: 10px;">
                <div class="row visible-print">
                    <div class="col-sm-12"><h2 style="margin-top: 0;"><i class="fa fa-user"></i> &nbsp;@HCResources.ShippingAddress</h2></div>
                </div>
                <div>
                    <div class="row">
                        <div class="col-sm-12 padbottom">
                            <div class="row">
                                <div class="col-md-12 itemheader">@HCResources.Address:</div>
                                <div class="col-md-12">
                                    <strong>{{ @(angularObjectName).ShippingName }}</strong><br />
                                    <address style="margin-bottom: 0;">
                                        <span ng-bind-html="@(angularObjectName).ShippingAddress | hcaddress"></span>
                                    </address>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-4 col-md-3" ng-hide="@(angularObjectName).ShippingHomePhone === null || @(angularObjectName).ShippingHomePhone === ''">
                            <div class="row">
                                <div class="col-md-12 itemheader">@HCResources.HomePhone:</div>
                                <div class="col-md-12 itemdetail" ng-bind-html="@(angularObjectName).ShippingHomePhone | hcphone:'':'':true"></div>
                            </div>
                        </div>
                        <div class="col-sm-4 col-md-3" ng-hide="@(angularObjectName).ShippingWorkPhone === null || @(angularObjectName).ShippingWorkPhone === ''">
                            <div class="row">
                                <div class="col-md-12 itemheader">@HCResources.WorkPhone:</div>
                                <div class="col-md-12 itemdetail" ng-bind-html="@(angularObjectName).ShippingWorkPhone | hcphone:'':'':true"></div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

<div class="row detailsection even" ng-hide="@(angularObjectName).OrderItems === null || @(angularObjectName).OrderItems.length === 0">
    <div class="col-xs-12">
        <table class="table table-striped table-hover table-bordered ng-cloak">
            <thead>
                <tr class="column-header-row">
                    <th>@HCResources.Line</th>
                    <th>@HCResources.Article</th>
                    <th>@HCResources.Description</th>
                    <th class="text-right">@HCResources.Ordered</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="orderitem in @(angularObjectName).OrderItems | orderBy:'LineNumber'">
                    <td>{{ orderitem.LineNumber }}</td>
                    <td>{{ orderitem.ProductCode }}</td>
                    <td>{{ orderitem.Description }}</td>
                    <td>{{ orderitem.Ordered }}</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<div ng-repeat="package in @(angularObjectName).Packages">
    <div class="row detailsection even">
        <div class="col-xs-12">
            <h2><i class="fa fa-cube"></i> @HCResources.Package {{$index + 1}} of {{ @(angularObjectName).Packages.length }}</h2>
        </div>
    </div>
    <div class="row detailsection even">
        <div class="col-xs-4">
            <div class="row">
                <div class="col-xs-12 itemheader">@HCResources.DeliveryMethod:</div>
                <div class="col-xs-12 itemdetail">{{ package.DeliveryMethod }}</div>
            </div>
        </div>
        <div class="col-xs-4">
            <div class="row">
                <div class="col-xs-12 itemheader">@HCResources.ShipDate:</div>
                <div class="col-xs-12 itemdetail">{{ package.ShipDate | hcdate }}</div>
            </div>
        </div>
        <div class="col-xs-4" ng-hide="package.DeliveryDate === null">
            <div class="row">
                <div class="col-xs-12 itemheader">@HCResources.DeliveryDate:</div>
                <div class="col-xs-12 itemdetail">{{ package.DeliveryDate | hcdate }}</div>
            </div>
        </div>
        <div class="col-xs-4" ng-hide="package.ScheduledDeliveryDate == null || package.DeliveryDate != null">
            <div class="row">
                <div class="col-xs-12 itemheader">@HCResources.ScheduledDeliveryDate:</div>
                <div class="col-xs-12 itemdetail">{{ package.ScheduledDeliveryDate | hcdate }}</div>
            </div>
        </div>
    </div>
    <div class="row detailsection even">
        <div class="col-sm-4" ng-hide="package.RemitoNo === null || package.RemitoNo === ''">
            <div class="row">
                <div class="col-xs-12 itemheader">Remito #:</div>
                <div class="col-xs-12 itemdetail">{{ package.RemitoNo }}</div>
            </div>
        </div>
        <div class="col-sm-4">
            <div class="row">
                <div class="col-xs-12 itemheader">@HCResources.TrackingNo:</div>
                <div class="col-xs-12 itemdetail" ng-hide="package.TrackingLink != null"><i class="fa fa-barcode"></i> {{ package.TrackingNumber }}</div>
                <div class="col-xs-12 itemdetail" ng-hide="package.TrackingLink == null"><a href="{{ package.TrackingLink }}" target="_blank"><i class="fa fa-barcode"></i> {{ package.TrackingNumber }}</a></div>
            </div>
        </div>
        <div class="ng-class:{'col-sm-8':package.RemitoNo === null || package.RemitoNo === '','col-sm-4':package.RemitoNo !== null && package.RemitoNo !== ''}">
            <div class="row">
                <div class="col-xs-12 itemheader">@HCResources.Status:</div>
                <div class="col-xs-12 itemdetail">{{ package.DeliveryStatus }}</div>
            </div>
        </div>
    </div>
    <div class="row detailsection even">
        <div class="col-xs-12">
            <table class="table table-striped table-hover table-bordered ng-cloak">
                <thead>
                    <tr class="column-header-row">
                        <th>@HCResources.Line</th>
                        <th>@HCResources.Article</th>
                        <th>@HCResources.Description</th>
                        <th class="text-right">@HCResources.Shipped</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="packageitem in package.PackageItems | orderBy:'LineNumber'">
                        <td>{{ packageitem.LineNumber }}</td>
                        <td>{{ packageitem.ProductCode }}</td>
                        <td>{{ packageitem.Description }}</td>
                        <td>{{ packageitem.Shipped }}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
